{"version":3,"sources":["services/todos-api.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","views/MovieDetailsPage.module.css","views/MovieDetailsPage.js"],"names":["fetchTrending","axios","get","then","response","data","results","fetchMovie","movieId","fetchCast","fetchReviews","fetchSearch","nextCategory","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","module","exports","Cast","lazy","Reviews","MovieDetailsPage","state","poster_path","title","release_date","overview","genres","handleGoBack","props","location","history","from","this","match","params","setState","catch","err","console","log","aa","type","onClick","className","styles","container","src","alt","image","containerAbout","substring","map","genre","name","id","to","pathname","url","fallback","path","component","Component"],"mappings":"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","file":"static/js/MovieDetailsPage.758dfa18.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst fetchTrending = () => {\r\n  return axios\r\n    .get(\r\n      'https://api.themoviedb.org/3/trending/movie/day?api_key=bbc6386a0bc633f77c6faed806ceae64',\r\n    )\r\n    .then(response => response.data.results);\r\n};\r\n\r\nconst fetchMovie = movieId => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=bbc6386a0bc633f77c6faed806ceae64&language=en-US`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nconst fetchCast = movieId => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=bbc6386a0bc633f77c6faed806ceae64&language=en-US`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nconst fetchReviews = movieId => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=bbc6386a0bc633f77c6faed806ceae64&language=en-US&page=1`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nconst fetchSearch = nextCategory => {\r\n  return axios\r\n    .get(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=bbc6386a0bc633f77c6faed806ceae64&query=${nextCategory}`,\r\n    )\r\n    .then(response => response.data.results);\r\n};\r\n\r\nexport { fetchTrending, fetchMovie, fetchCast, fetchReviews, fetchSearch };\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__38mZQ\",\"containerAbout\":\"MovieDetailsPage_containerAbout__1mfU_\",\"image\":\"MovieDetailsPage_image__1-ZsI\"};","import React, { Component, Suspense, lazy } from 'react';\r\nimport { Route, Link } from 'react-router-dom';\r\n// import Cast from '../components/Cast';\r\n// import Reviews from '../components/Reviews';\r\nimport styles from './MovieDetailsPage.module.css';\r\nimport { fetchMovie } from '../services/todos-api';\r\n\r\nconst Cast = lazy(() =>\r\n  import('../components/Cast' /* webpackChunkName: \"Cast\" */),\r\n);\r\nconst Reviews = lazy(() =>\r\n  import('../components/Reviews' /* webpackChunkName: \"Reviews\" */),\r\n);\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    poster_path: '',\r\n    title: '',\r\n    release_date: '',\r\n    overview: '',\r\n    genres: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { movieId } = this.props.match.params;\r\n    fetchMovie(movieId)\r\n      .then(data => {\r\n        this.setState({ ...data });\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    const { location, history } = this.props;\r\n    if (location.state && location.state.from) {\r\n      history.push(location.state.from);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const aa = 'https://image.tmdb.org/t/p/w500' + this.state.poster_path;\r\n    return (\r\n      <>\r\n        <button type=\"button\" onClick={this.handleGoBack}>\r\n          Go back\r\n        </button>\r\n        <div className={styles.container}>\r\n          <img src={aa} alt=\"\" className={styles.image} />\r\n          <div className={styles.containerAbout}>\r\n            <h2>\r\n              {this.state.title} ({this.state.release_date.substring(0, 4)})\r\n            </h2>\r\n            <h3>Overview</h3>\r\n            <p>{this.state.overview}</p>\r\n            <h4>Genres</h4>\r\n            <p>\r\n              {this.state.genres.map(genre => (\r\n                <span key={genre.id}> {genre.name} </span>\r\n              ))}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n        <h4>Additional information</h4>\r\n        <ul>\r\n          <li>\r\n            <Link\r\n              to={{\r\n                pathname: `${this.props.match.url}/cast`,\r\n                state: {\r\n                  from:\r\n                    this.props.location.state && this.props.location.state.from\r\n                      ? this.props.location.state.from\r\n                      : {},\r\n                },\r\n              }}\r\n            >\r\n              Cast\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link\r\n              to={{\r\n                pathname: `${this.props.match.url}/reviews`,\r\n                state: {\r\n                  from:\r\n                    this.props.location.state && this.props.location.state.from\r\n                      ? this.props.location.state.from\r\n                      : {},\r\n                },\r\n              }}\r\n            >\r\n              Reviews\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n        <hr />\r\n        <Suspense fallback={<h1>Загрузка...</h1>}>\r\n          <Route path={`${this.props.match.path}/cast`} component={Cast} />\r\n          <Route\r\n            path={`${this.props.match.path}/reviews`}\r\n            component={Reviews}\r\n          />\r\n        </Suspense>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}